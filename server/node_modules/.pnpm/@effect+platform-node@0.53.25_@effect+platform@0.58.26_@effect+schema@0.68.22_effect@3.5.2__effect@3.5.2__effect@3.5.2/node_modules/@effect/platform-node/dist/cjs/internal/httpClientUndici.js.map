{"version":3,"file":"httpClientUndici.js","names":["Cookies","_interopRequireWildcard","require","Headers","Client","Error","ClientResponse","IncomingMessage","UrlParams","Context","Effect","FiberRef","_Function","_GlobalValue","Inspectable","Layer","Option","Undici","NodeStream","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Dispatcher","exports","GenericTag","makeDispatcher","acquireRelease","sync","Agent","dispatcher","promise","close","dispatcherLayer","scoped","dispatcherLayerGlobal","getGlobalDispatcher","currentUndiciOptions","globalValue","Symbol","for","unsafeMake","withUndiciOptions","dual","self","options","locally","make","makeDefault","request","url","signal","fiber","convertBody","body","pipe","flatMap","tryPromise","try","getFiberRef","method","headers","origin","path","pathname","search","hash","headersTimeout","bodyTimeout","throwOnError","catch","error","RequestError","reason","map","response","ClientResponseImpl","_tag","succeed","formData","toReadable","stream","noopErrorHandler","_","Class","source","TypeId","constructor","on","status","statusCode","statusText","undefined","cachedCookies","cookies","header","fromSetCookie","Array","isArray","empty","fromInput","remoteAddress","none","fromReadable","ResponseError","json","tryMap","text","JSON","parse","textBody","cached","runSync","urlParamsBody","URLSearchParams","formDataBody","arrayBufferBody","arrayBuffer","toJSON","inspect","_id","layerWithoutDispatcher","effect","HttpClient","layer","provide"],"sources":["../../../src/internal/httpClientUndici.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}