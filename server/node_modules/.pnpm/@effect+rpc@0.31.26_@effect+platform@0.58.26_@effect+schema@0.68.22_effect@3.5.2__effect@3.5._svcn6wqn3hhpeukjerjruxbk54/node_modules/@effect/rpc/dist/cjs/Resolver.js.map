{"version":3,"file":"Resolver.js","names":["Headers","_interopRequireWildcard","require","Schema","Serializable","Arr","Cause","Effect","Exit","_Function","Request","RequestResolver","Stream","_rpc","Rpc","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","make","handler","getDecode","withRequestTag","req","decodeUnknown","exitSchema","getDecodeChunk","Chunk","makeBatched","requests","effectRequests","streamRequests","partition","_","StreamRequestTypeId","request","processEffects","pipe","forEach","map","serialize","flatMap","payload","runForEach","filter","isArray","length","index","response","matchCauseEffect","orDie","onFailure","cause","failCause","onSuccess","exit","complete","catchAllCause","discard","processStreams","decode","stream","mapEffect","flattenChunks","match","isEmptyType","empty","succeed","unwrap","zipRight","exports","annotateHeaders","dual","self","headers","resolved","fromInput","makeWithEntry","entries","entry","merge","runAll","annotateHeadersEffect","flat","toClient","resolver","options"],"sources":["../../src/Resolver.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}