{"version":3,"file":"Rpc.js","names":["Headers","_interopRequireWildcard","require","Schema","Effect","FiberRef","_Function","_GlobalValue","_Pipeable","Predicate","Stream","Internal","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","isRpc","hasProperty","effect","schema","handler","_tag","pipe","pipeArguments","arguments","StreamRequestTypeId","StreamRequest","tag","failure","success","fields","TaggedRequest","constructor","props","disableValidation","stream","RequestSchema","Struct","request","traceId","String","spanId","sampled","Boolean","headers","Record","currentHeaders","globalValue","unsafeMake","empty","annotateHeaders","dual","self","resolved","fromInput","locallyWith","prev","schemaHeaders","decode","decodeUnknown","flatMap","options","makeSpanScoped","spanPrefix","kind","captureStackTrace","zip","map","span","makeRequest","req","resolver","isStream","res","_","unwrapScoped","scoped","provideServiceEffect","make","orDie","provideService","service"],"sources":["../../src/Rpc.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}