{"version":3,"file":"HttpApp.js","names":["Context","Effect","Exit","FiberRef","dual","globalValue","Layer","Option","Runtime","Scope","ServerError","ServerRequest","ServerResponse","internalMiddleware","toHandled","self","handleResponse","middleware","responded","withFiberRuntime","fiber","request","unsafeGet","getFiberRef","currentContext","HttpServerRequest","preprocessResponse","response","handler","currentPreResponseHandlers","_tag","value","succeed","matchCauseEffect","onFailure","cause","flatMap","causeResponse","pipe","zipRight","failCause","onSuccess","tap","withTracer","tracer","uninterruptible","catchAllCause","scoped","undefined","_","void","Symbol","for","unsafeMake","none","appendPreResponseHandler","update","match","onNone","some","onSome","prev","withPreResponseHandler","locallyWith","toWebHandlerRuntime","runtime","run","runFork","Promise","resolve","provideService","toWeb","method","fromWeb","signal","addEventListener","unsafeInterruptAsFork","clientAbortFiberId","once","toWebHandler","defaultRuntime","toWebHandlerLayer","layer","scope","runSync","make","close","runPromise","build","map","toRuntime","runner","extend","then"],"sources":["../../src/HttpApp.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}